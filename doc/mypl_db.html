<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Module mypl_db</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module mypl_db</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#types">Data Types</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>myPL/kernel-E storage Engine.
<p>Copyright © 2007 HUDORA GmbH</p>

<p><b>Version:</b> 0.1</p>
<p><b>Authors:</b> Maximillian Dornseif (<a href="mailto:md@hudora.de"><tt>md@hudora.de</tt></a>).</p>

<h2><a name="description">Description</a></h2><p>myPL/kernel-E storage Engine</p>
 
  This implements the main database functionallity of myPL/kernel-E and is the only module which is allowed
  to actually write to the main databse. All other modules have read only access to the database.
 
<h2><a name="types">Data Types</a></h2>

<h3 class="typedecl"><a name="type-externalReferences">externalReferences()</a></h3>
<p><tt>externalReferences() = List</tt></p>
<p>List = [{string(), string()}]
   A list of two-tuples encoding external references.</p>

<h3 class="typedecl"><a name="type-heigthMM">heigthMM()</a></h3>
<p><tt>heigthMM() = integer()</tt></p>
<p>Heigth of an Unit or Location im mm. If unsure it is suggested that you choose 1950.</p>

<h3 class="typedecl"><a name="type-locationName">locationName()</a></h3>
<p><tt>locationName() = string()</tt></p>
<p>Unique, human readable name of an location.</p>

<h3 class="typedecl"><a name="type-locationRecord">locationRecord()</a></h3>
<p><tt>locationRecord() = tuple()</tt></p>
<p>A record describing a Location.</p>

<h3 class="typedecl"><a name="type-movementID">movementID()</a></h3>
<p><tt>movementID() = string()</tt></p>
<p>MoventID, unique id of an movement.</p>

<h3 class="typedecl"><a name="type-muID">muID()</a></h3>
<p><tt>muID() = string()</tt></p>
<p>MovableUnitID, unique id of an Unit. Often an SSCC/NVE.</p>

<h3 class="typedecl"><a name="type-product">product()</a></h3>
<p><tt>product() = string()</tt></p>
<p>Opaque ID for an product. Artikelnummer/Item Number/SKU or EAN.</p>

<h3 class="typedecl"><a name="type-unitRecord">unitRecord()</a></h3>
<p><tt>unitRecord() = tuple()</tt></p>
<p>A record describing a Unit.</p>

<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#add_movementsuggestion-1">add_movementsuggestion/1*</a></td><td></td></tr>
<tr><td valign="top"><a href="#commit_movement-1">commit_movement/1</a></td><td>finish a movement.</td></tr>
<tr><td valign="top"><a href="#commit_pick-0">commit_pick/0*</a></td><td></td></tr>
<tr><td valign="top"><a href="#get_movementsuggestion-0">get_movementsuggestion/0*</a></td><td></td></tr>
<tr><td valign="top"><a href="#init_movement-2">init_movement/2</a></td><td>start moving a unit from its current location to a new one.</td></tr>
<tr><td valign="top"><a href="#init_movement_to_good_location-1">init_movement_to_good_location/1</a></td><td>start moving a Unit to a location choosen automatically.</td></tr>
<tr><td valign="top"><a href="#init_mypl-0">init_mypl/0</a></td><td></td></tr>
<tr><td valign="top"><a href="#init_pick-2">init_pick/2*</a></td><td></td></tr>
<tr><td valign="top"><a href="#init_table_info-2">init_table_info/2*</a></td><td></td></tr>
<tr><td valign="top"><a href="#movementsuggestions_loop-0">movementsuggestions_loop/0*</a></td><td></td></tr>
<tr><td valign="top"><a href="#movementsuggestions_loop-1">movementsuggestions_loop/1*</a></td><td></td></tr>
<tr><td valign="top"><a href="#movementsuggestions_loop_start-0">movementsuggestions_loop_start/0*</a></td><td></td></tr>
<tr><td valign="top"><a href="#movementsuggestions_loop_stop-0">movementsuggestions_loop_stop/0*</a></td><td></td></tr>
<tr><td valign="top"><a href="#retrive-1">retrive/1</a></td><td>remove a Unit and the goods on it from the warehouse.</td></tr>
<tr><td valign="top"><a href="#rollback_movement-1">rollback_movement/1*</a></td><td>rollback a movement.</td></tr>
<tr><td valign="top"><a href="#rollback_pick-0">rollback_pick/0*</a></td><td></td></tr>
<tr><td valign="top"><a href="#start-0">start/0</a></td><td></td></tr>
<tr><td valign="top"><a href="#stop-0">stop/0</a></td><td></td></tr>
<tr><td valign="top"><a href="#store_at_location-2">store_at_location/2*</a></td><td>create a new Unit and insert it into the warehouse.</td></tr>
<tr><td valign="top"><a href="#store_at_location-5">store_at_location/5</a></td><td>create a new Unit and insert it into the warehouse.</td></tr>
<tr><td valign="top"><a href="#teleport-3">teleport/3*</a></td><td></td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="add_movementsuggestion-1">add_movementsuggestion/1 *</a></h3>
<div class="spec">
<p><tt>add_movementsuggestion() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="commit_movement-1">commit_movement/1</a></h3>
<div class="spec">
<p><tt>commit_movement(MovementId::<a href="#type-movementID">movementID()</a>) -&gt; <a href="#type-locationName">locationName()</a></tt></p>
</div><p><p>finish a movement</p>
 
  Commits a movement created previously by <a href="#init_movement-2"><code>init_movement/2</code></a>. This is by doing the actual
  bookkeping of storing the unit on the new location and removing all previous information on the
  formerly unfinished movement. Returns the name of the Location where the Unit is stored now.</p>
<p><b>See also:</b> <a href="#rollback_movement-1">rollback_movement/1</a>.</p>

<h3 class="function"><a name="commit_pick-0">commit_pick/0 *</a></h3>
<div class="spec">
<p><tt>commit_pick() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="get_movementsuggestion-0">get_movementsuggestion/0 *</a></h3>
<div class="spec">
<p><tt>get_movementsuggestion() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="init_movement-2">init_movement/2</a></h3>
<div class="spec">
<p><tt>init_movement(Mui::<a href="#type-muID">muID()</a>, DestinationName::<a href="#type-locationName">locationName()</a>) -&gt; <a href="#type-movementID">movementID()</a></tt></p>
</div><p>start moving a unit from its current location to a new one</p>

<h3 class="function"><a name="init_movement_to_good_location-1">init_movement_to_good_location/1</a></h3>
<div class="spec">
<p><tt>init_movement_to_good_location(Mui::<a href="#type-muID">muID()</a>) -&gt; <a href="#type-movementID">movementID()</a></tt></p>
</div><p><p>start moving a Unit to a location choosen automatically</p>
 
  The system chooses the (hopfully) best fitting location for the Unit and then uses <a href="#init_movement-2"><code>init_movement/2</code></a>
  to initiate a movement of the Unit tu that Location.</p>
<p><b>See also:</b> <a href="mypl_db_util.html#best_location-1">mypl_db_util:best_location/1</a>.</p>

<h3 class="function"><a name="init_mypl-0">init_mypl/0</a></h3>
<div class="spec">
<p><tt>init_mypl() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="init_pick-2">init_pick/2 *</a></h3>
<div class="spec">
<p><tt>init_pick() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="init_table_info-2">init_table_info/2 *</a></h3>
<div class="spec">
<p><tt>init_table_info() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="movementsuggestions_loop-0">movementsuggestions_loop/0 *</a></h3>
<div class="spec">
<p><tt>movementsuggestions_loop() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="movementsuggestions_loop-1">movementsuggestions_loop/1 *</a></h3>
<div class="spec">
<p><tt>movementsuggestions_loop() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="movementsuggestions_loop_start-0">movementsuggestions_loop_start/0 *</a></h3>
<div class="spec">
<p><tt>movementsuggestions_loop_start() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="movementsuggestions_loop_stop-0">movementsuggestions_loop_stop/0 *</a></h3>
<div class="spec">
<p><tt>movementsuggestions_loop_stop() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="retrive-1">retrive/1</a></h3>
<div class="spec">
<p><tt>retrive(Mui::<a href="#type-muID">muID()</a>) -&gt; {Quantity::integer(), Product::string()}</tt></p>
</div><p><p>remove a Unit and the goods on it from the warehouse</p>
 
  returns the name of the location from where the Unit was removed</p>

<h3 class="function"><a name="rollback_movement-1">rollback_movement/1 *</a></h3>
<div class="spec">
<p><tt>rollback_movement(MovementId::<a href="#type-movementID">movementID()</a>) -&gt; <a href="#type-locationName">locationName()</a></tt></p>
</div><p><p>rollback a movement</p>
 
  This rolls back a movement returning the ware house to a state as if <a href="#init_movement-2"><code>init_movement/2</code></a> had
  never been called. Returns the name of the Location where the Unit now is placed (again).</p>
<p><b>See also:</b> <a href="#commit_movement-1">commit_movement/1</a>.</p>

<h3 class="function"><a name="rollback_pick-0">rollback_pick/0 *</a></h3>
<div class="spec">
<p><tt>rollback_pick() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="start-0">start/0</a></h3>
<div class="spec">
<p><tt>start() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="stop-0">stop/0</a></h3>
<div class="spec">
<p><tt>stop() -&gt; term()</tt></p>
</div>

<h3 class="function"><a name="store_at_location-2">store_at_location/2 *</a></h3>
<div class="spec">
<p><tt>store_at_location(Location::<a href="#type-locationRecord">locationRecord()</a>, Unit::<a href="#type-unitRecord">unitRecord()</a>) -&gt; {ok, <a href="#type-locationName">locationName()</a>}</tt></p>
</div><p><p>create a new Unit and insert it into the warehouse</p>
 
  This is an private helper for <a href="#store_at_location-5"><code>store_at_location/5</code></a> actually saving the Unit to the Location.
  On errors it might also return {error, duplicate_mui}.</p>

<h3 class="function"><a name="store_at_location-5">store_at_location/5</a></h3>
<div class="spec">
<p><tt>store_at_location(Locname::<a href="#type-locationName">locationName()</a>, Mui::<a href="#type-muID">muID()</a>, Quantity::integer(), Product::string(), Height::<a href="#type-heigthMM">heigthMM()</a>) -&gt; {ok, <a href="#type-locationName">locationName()</a>}</tt></p>
</div><p><p>create a new Unit and insert it into the warehouse</p>
 
  On errors it might also return {error, unknown_location} or {error, duplicate_mui}.</p>

<h3 class="function"><a name="teleport-3">teleport/3 *</a></h3>
<div class="spec">
<p><tt>teleport() -&gt; term()</tt></p>
</div>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Oct 8 2007, 00:04:38.</i></p>
</body>
</html>
